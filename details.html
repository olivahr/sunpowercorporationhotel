<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Corporate Reservation - SunPower</title>
<link rel="stylesheet" href="style.css" />
<style>
/* --- Estilo premium para details.html --- */
body { margin:0; font-family:-apple-system, BlinkMacSystemFont, sans-serif; background:#f2f4f7; color:#111; }
header { display:flex; align-items:center; gap:10px; padding:12px 16px; background:#fff; box-shadow:0 2px 6px rgba(0,0,0,.1);}
.logo-small { height:36px; }
header .header-text { display:flex; flex-direction:column; font-size:14px; }
.hero img { width:100%; height:220px; object-fit:cover; border-radius:12px; margin-bottom:14px; }
.hotel-card, .room-card { background:#fff; margin:14px; padding:16px; border-radius:16px; box-shadow:0 4px 12px rgba(0,0,0,.08);}
.amenities { list-style:none; padding:0; display:grid; grid-template-columns:1fr 1fr; gap:6px; }
.room-header { display:flex; justify-content:space-between; align-items:center; }
.price { font-weight:700; }
.slider { display:flex; gap:10px; overflow-x:auto; margin:10px 0; }
.slider img { height:140px; border-radius:12px; }
.reserve-form { display:flex; flex-direction:column; gap:8px; margin-top:10px; }
.reserve-form input, #pay-button { padding:10px; border-radius:8px; border:1px solid #ccc; font-size:14px; }
#pay-button { background:#0071c2; color:#fff; font-weight:700; border:none; cursor:pointer; margin-top:8px; }
#payment-section { margin-top:10px; }
.pay-btn { display:block; margin-top:10px; padding:14px; text-align:center; background:#0071c2; color:#fff; border-radius:12px; text-decoration:none; font-weight:700; }
.footer { text-align:center; padding:18px; font-size:13px; color:#555; margin-top:40px; border-top:1px solid #ddd; }
</style>
<script src="https://sandbox.web.squarecdn.com/v1/square.js"></script>
</head>
<body>

<header>
  <img src="logo.jpg" class="logo-small" alt="SunPower" />
  <div class="header-text">
    <strong>SunPower</strong>
    <span>by Executive Inn & Suites</span>
  </div>
</header>

<section class="hero">
  <img src="foto0.jpg" alt="Hotel" />
</section>

<section class="hotel-card">
  <h2>Executive Inn & Suites</h2>
  <p>Approved corporate lodging for SunPower employees and contractors. Weekly rates available for employees only.</p>
  <ul class="amenities">
    <li>Free Parking</li>
    <li>High-Speed Wi-Fi</li>
    <li>Air Conditioning</li>
    <li>Private Bathroom</li>
    <li>Corporate Use Only</li>
    <li>No Public Booking</li>
  </ul>
</section>

<!-- ROOM 1 -->
<section class="room-card">
  <div class="room-header">
    <h3>Standard Room – 1 Bed</h3>
    <span class="price">$79 / week</span>
  </div>

  <div class="slider">
    <img src="foto1.jpg" />
    <img src="foto2.jpg" />
  </div>

  <details>
    <summary>View details & Reserve</summary>
    <p>1 Queen Bed · Private Bathroom · Wi-Fi · Parking</p>

    <form class="reserve-form">
      <input type="text" id="name1" placeholder="Full Name" required />
      <input type="text" id="empid1" placeholder="Employee ID" required />
      <input type="date" id="checkin1" placeholder="Check-in date" required />

      <div id="payment-section" style="display:none;">
        <div id="card-container-1"></div>
        <button id="pay-button-1">Pay $79</button>
      </div>

      <button type="button" onclick="startPayment('1', 7900)">Reserve</button>
    </form>
  </details>
</section>

<!-- ROOM 2 -->
<section class="room-card">
  <div class="room-header">
    <h3>Standard Room – 2 Beds</h3>
    <span class="price">$89 / week</span>
  </div>

  <div class="slider">
    <img src="foto3.jpg" />
    <img src="foto4.jpg" />
  </div>

  <details>
    <summary>View details & Reserve</summary>
    <p>2 Beds · Private Bathroom · Wi-Fi · Parking</p>

    <form class="reserve-form">
      <input type="text" id="name2" placeholder="Full Name" required />
      <input type="text" id="empid2" placeholder="Employee ID" required />
      <input type="date" id="checkin2" placeholder="Check-in date" required />

      <div id="payment-section" style="display:none;">
        <div id="card-container-2"></div>
        <button id="pay-button-2">Pay $89</button>
      </div>

      <button type="button" onclick="startPayment('2', 8900)">Reserve</button>
    </form>
  </details>
</section>

<footer class="footer">
© 2026 SunPower Corporation · Corporate Lodging · Security & Privacy Policies<br>
Only for SunPower employees
</footer>

<script>
const applicationId = "sq0idp-Ef76V9TIhpzQreCYfKVXsw"; // Production
const locationId = "default"; // Para tu primera ubicación

async function startPayment(roomNumber, amount) {
  const cardContainerId = `card-container-${roomNumber}`;
  const payButtonId = `pay-button-${roomNumber}`;
  document.getElementById(cardContainerId).parentElement.style.display = "block";

  const payments = Square.payments(applicationId, locationId);
  const card = await payments.card();
  await card.attach(`#${cardContainerId}`);

  document.getElementById(payButtonId).onclick = async () => {
    const result = await card.tokenize();
    if(result.status === 'OK') {
      const name = document.getElementById(`name${roomNumber}`).value;
      const empid = document.getElementById(`empid${roomNumber}`).value;
      const checkin = document.getElementById(`checkin${roomNumber}`).value;

      // Guardar o enviar datos al servidor si quieres
      alert(`Payment successful!\nName: ${name}\nEmployee ID: ${empid}\nCheck-in: ${checkin}`);

      // Aquí puedes agregar fetch() a tu backend para cobrar realmente
    } else {
      alert("Payment failed. Try again.");
    }
  };
}
</script>

</body>
</html>
