<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Corporate Reservation - SunPower</title>
<link rel="stylesheet" href="style.css" />
<script src="https://js.stripe.com/v3/"></script>
<style>
/* --- Estilo premium igual que antes --- */
body {
  margin:0;
  font-family:-apple-system, BlinkMacSystemFont, sans-serif;
  background:#f2f4f7;
  color:#111;
  display:flex;
  flex-direction:column;
  min-height:100vh;
}
header {
  display:flex;
  align-items:center;
  gap:10px;
  padding:12px 16px;
  background:#fff;
  box-shadow:0 2px 6px rgba(0,0,0,.1);
}
.logo-small { height:36px; }
header .header-text { display:flex; flex-direction:column; font-size:14px; }

main { flex:1; display:flex; flex-direction:column; align-items:center; width:100%; }

.hero img { width:100%; max-width:800px; height:220px; object-fit:cover; border-radius:12px; margin-bottom:14px; }

.hotel-card, .room-card {
  background:#fff;
  margin:14px;
  padding:16px;
  border-radius:16px;
  box-shadow:0 4px 12px rgba(0,0,0,.08);
  width:90%;
  max-width:600px;
}
.amenities { list-style:none; padding:0; display:grid; grid-template-columns:1fr 1fr; gap:6px; }

.room-header { display:flex; justify-content:space-between; align-items:center; }
.price { font-weight:700; }
.slider { display:flex; gap:10px; overflow-x:auto; margin:10px 0; }
.slider img { height:140px; border-radius:12px; }

.reserve-form { display:flex; flex-direction:column; gap:8px; margin-top:10px; }
.reserve-form input, #pay-button-1, #pay-button-2 {
  padding:10px;
  border-radius:8px;
  border:1px solid #ccc;
  font-size:14px;
}
#pay-button-1, #pay-button-2 {
  background:#0071c2;
  color:#fff;
  font-weight:700;
  border:none;
  cursor:pointer;
  margin-top:8px;
}
#payment-section { margin-top:10px; }

.footer {
  text-align:center;
  padding:18px;
  font-size:13px;
  color:#555;
  border-top:1px solid #ddd;
  margin-top:auto;
}
</style>
</head>
<body>

<header>
  <img src="logo.jpg" class="logo-small" alt="SunPower" />
  <div class="header-text">
    <strong>SunPower</strong>
    <span>by Executive Inn & Suites</span>
  </div>
</header>

<main>
<section class="hero">
  <img src="foto0.jpg" alt="Hotel" />
</section>

<section class="hotel-card">
  <h2>Executive Inn & Suites</h2>
  <p>Approved corporate lodging for SunPower employees and contractors. Weekly rates available for employees only.</p>
  <ul class="amenities">
    <li>Free Parking</li>
    <li>High-Speed Wi-Fi</li>
    <li>Air Conditioning</li>
    <li>Private Bathroom</li>
    <li>Corporate Use Only</li>
    <li>No Public Booking</li>
  </ul>
</section>

<!-- ROOM 1 -->
<section class="room-card">
  <div class="room-header">
    <h3>Standard Room – 1 Bed</h3>
    <span class="price">$79 / week</span>
  </div>
  <div class="slider">
    <img src="foto1.jpg" />
    <img src="foto2.jpg" />
  </div>

  <details>
    <summary>View details & Reserve</summary>
    <p>1 Queen Bed · Private Bathroom · Wi-Fi · Parking</p>

    <form class="reserve-form" data-amount="7900">
      <input type="text" id="name1" placeholder="Full Name" required />
      <input type="text" id="empid1" placeholder="Employee ID" required />
      <input type="date" id="checkin1" required />
      <div id="card-container-1"></div>
      <button type="button" id="pay-button-1">Pay $79</button>
    </form>
  </details>
</section>

<!-- ROOM 2 -->
<section class="room-card">
  <div class="room-header">
    <h3>Standard Room – 2 Beds</h3>
    <span class="price">$89 / week</span>
  </div>
  <div class="slider">
    <img src="foto3.jpg" />
    <img src="foto4.jpg" />
  </div>

  <details>
    <summary>View details & Reserve</summary>
    <p>2 Beds · Private Bathroom · Wi-Fi · Parking</p>

    <form class="reserve-form" data-amount="8900">
      <input type="text" id="name2" placeholder="Full Name" required />
      <input type="text" id="empid2" placeholder="Employee ID" required />
      <input type="date" id="checkin2" required />
      <div id="card-container-2"></div>
      <button type="button" id="pay-button-2">Pay $89</button>
    </form>
  </details>
</section>
</main>

<footer class="footer">
©️ 2026 SunPower Corporation · Corporate Lodging · Security & Privacy Policies<br>
Only for SunPower employees
</footer>

<script>
const stripe = Stripe("pk_live_51Sqi7FHT5bkIm6x5SVitLxim4LhIzTKPmLYFeR1HwcLKukM8s5ikkKRrGDyFpUzm2GC7ARf7z3zbRQjCoCkFgh7L00S5kY0ga1");

document.querySelectorAll(".reserve-form").forEach((form, idx) => {
  const cardContainer = form.querySelector(`#card-container-${idx+1}`);
  const payButton = form.querySelector(`#pay-button-${idx+1}`);
  const elements = stripe.elements();
  const card = elements.create("card");
  card.mount(cardContainer);

  payButton.addEventListener("click", async () => {
    const amount = parseInt(form.dataset.amount);
    const name = form.querySelector("input[type=text]").value;
    const empid = form.querySelector("#empid" + (idx+1)).value;
    const checkin = form.querySelector("input[type=date]").value;

    const res = await fetch("/create-payment-intent", {
      method: "POST",
      headers: {"Content-Type": "application/json"},
      body: JSON.stringify({ amount })
    });
    const data = await res.json();
    const clientSecret = data.clientSecret;

    const result = await stripe.confirmCardPayment(clientSecret, { payment_method: { card }});
    if(result.error) alert(result.error.message);
    else alert(`Payment successful!\nName: ${name}\nEmployee ID: ${empid}\nCheck-in: ${checkin}`);
  });
});
</script>

</body>
</html>
